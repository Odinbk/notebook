# 迷你包支持

## DevOps

* Mini包和完整包可以同时构建，也可以分开构建。扩展包命名md5, 迷你包名在完整包名的基础上标记Mini。
* 构建迷你包必须附带一份可以让迷你包升级到完整状态的文件包，暂时叫扩展包。
* WallE中提供数据库表保存相应的信息，提供接口供打包脚本获取到迷你包和扩展包的数据。
* 包中的FileCache结构调整，支持Mini包和扩展包的数据保存，同时VMS也需要获取相应信息。
* Thomas Upload上传Mini包到OSS

## 客户端

* 打包脚本要根据WallE传递的Mini包参数，同时产出Mini包和扩展包。

## 服务端

* Mini包客户端知道自己是Mini版，请求VMS获取升级路径时附带额外参数Mini，VMS返回扩展包和更新包地址。

### OBBx

纯前端工作，打包流程不变，生成完整包，通过另外的脚本拆分为迷你包和Obb包。

### 2019-12-10更新

* Lua CI产出32位和64位资源。不分profile。
* YK Android包要区分32，和64位。需要加对应的升级序列。
* Stream目录加入到Scripts监听目录。
* 后端包中的config.zoo里记录32，64的整包，mini包，扩展包，和升级包的位置，VMS返回所有信息给前端，前端自己控制升级细节。
