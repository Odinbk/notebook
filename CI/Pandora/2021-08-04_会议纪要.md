# 会议纪要

## 沟通事项

* 单人回档， Mongo和Redis回档到统一时刻。
	* [技术支撑] 单人回档的方式：用备份恢复一个新库，再把恢复的单人数据从新库中复制覆盖到要回档的库。 MongoDB 和 Redis备份存档不能保证在同一时间，回档到同一小时是可以的。

* 版本号回退更新 -- 底包更新，Lua，配置等资源不更新。希望两个底包都可以同时游戏不走更新逻辑。
	* [技术支撑] 拆分客户端可更新部分和不可更新部分为不同的版本，方案需要和张军讨论实现。

* 合服滚服, 合并数据库数据。
	* [技术支撑] 和同样单区单服架构的DK不同，Pandora合服要把数据合并到同一个Table中。支撑部需要开发脚本完成数据的合并。

* 开发集群申请
	* [技术支撑] 联系张继友在OpenStack申请开发机。

* 多版本灰度
	* [技术支撑] 1. 同集群逻辑划分灰度服的方案支持多版本灰度。 2. 不同集群物理划分体验服的方案目前只支持一个体验服。 3. 具体使用哪种方案还需要项目方和运营确认。

* 单区数据库回滚
	* [技术支撑] 1. 所有区服公用同一个mongodb sharding无法做到单区数据库回滚。 2. 不同区服使用不同mongodb 实例的方案天然支持单曲数据库回滚。

* 单机多进程部署
	* [技术支撑] 单机多进程方案要支持动态端口，目前的方案不支持。 可以使用服务器降配的方式优化服务器成本，不使用单机多进程。

* 滚动更新
	* [技术支撑] 1. 蓝绿部署方案，服务器成本翻倍，目前还不支持。 2. 采用K8s容器化部署，天然支持滚动更新。

* 打包机
	* [技术支撑] 先从Vega富余的打包机中腾挪一台。
