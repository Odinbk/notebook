# Walle项目周报

## 项目接入/安排

### DK

接口人：杨光

#### 项目安排

* 3月16，19，27有打包安排。
* 3月28日左右对外测试。
* 3月13日安排开发预演，预演项目：
  * 常规开服预演项目。
  * 优化过的删档流程。
  * GameStatic/Patch
  * 灰度发布/苹果审核服切换正式服本期不演练，安排在4月份。
* 预演推迟到3月18日

### Vega

接口人：杨光

#### 打包系统接入

* 时间： 2019-02-10 ~ 2019-02-22
* 接入内容： 前后端CI接入，正常打包出包，天梯发布。 热更/审核服/灰度发布不在这期接入范围。
* 进展
  * 前后端CI/CD脚本都已完成，可以正常出整包，更新包。
  * 天梯流程调试基本完成。本周服务端代码经过几轮调整，除VMS外其他服务都可以正常启停。
  * Vega的VMS适配新的流程需要做比较大的调整，服务端决定先从DK的VMS改造一个临时版本，用来调试流程。
  * 项目组对审核服和正式服部署在同一个部署位置提出疑问，经专家组商议后决定采用项目组的方案 -- 审核服和正式服部署在不同的部署位置。改动会影响到当前的设计，Walle和打包脚本都需要做一些调整。
  * Vega客户端，2D专家组讨论迁移RC资源缓存方案到新的方案。
* 后续跟进
  * 由于Vega项目进度比较紧，测试VMS推迟到了下周一。下周的目标是可以正常进游戏，正常出前后端整包，独立包，更新包。-- 孙亮，胡笳，王贤蛟.
  * Walle和打包脚本调整，以适配审核服和正式服部署在独立的部署位置 -- 杨光，胡笳.
  * 迁移Assets资源缓存方案 -- 杨光, 穆建辰, 阎杨将.

### YK

接口人：N/A

* 计划5月初接入。

## Walle功能开发. [JIRA Board](https://jira.youle.game/secure/RapidBoard.jspa?rapidView=6&projectKey=CIC&view=detail)

* Walle支持项目数据库独立部署 -- 完成上线.
* 通过Walle API请求数据的需求在eve中实现封装，打包脚本中调用eve封装的接口，而不直接请求Walle API. -- 完成上线
* 打包脚本流程优化，目前DK和Vega的打包脚本重复度很高。考虑把相同的操作封装在eve，项目组打包脚本只负责整合流程与实现有差异的部分. -- 进行中
* 整理打包系统部署拓补关系，尽可能容器化，让打包驻场部署容易实现。-- 进行中

## 相关文档

* Jenkins任务组织方式调整, 已完成上线。[说明文档](https://git.youle.game/TC/TSD/DevOps/dune/wikis/jenkins_authorization)
* [CI/CD系统接入Step By Step文档](https://git.youle.game/TC/TSD/DevOps/dune/wikis/integrate_walle_step_by_step)
* GameStatic/Patch。[使用说明](https://git.youle.game/TC/TSD/DevOps/dune/wikis/Release-Note-v0.1.2)