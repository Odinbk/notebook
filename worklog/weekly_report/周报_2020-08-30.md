# DevOps项目组周报

## 本周工作

### Vega

* 支持PR1和Business集群测试
  * 预演及问题修复
  * 线上问题协助修复、版本更新支持
  * 鹰眼异常处理
* World meta自动更新方案优化及配置维护
* 调整PR2的sec2server用于腾讯方QA测试，9月5日回收并将恢复为PR2测试环境
* 优化排队压测脚本、GVE压测脚本，并进行压力测试
* 购买且初始化yace2集群，用于项目组自己做压测
* 腾讯IDC内部申请新集群，用于云测试、素材录制等，下周三交付
* Tlog处理脚本异常处理
  * 玩家名字全部为不可见字符，显示为空格，导致编码异常处理
* TDR3文档准备及验收环境处理
  * IDC内部QA/PR2环境用于功能测试、容灾测试验收，IDC内部压测环境用于压力测试验收

### TKW

* 尝试重现上周公司内测时出现的MongoDB清档问题，未能复现。
* TLog VPC跨账号对等连接，等待腾讯对接运维响应。

### YK

* 8月27日游戏上线
* 8月27日18:34 ，非维护，版本更新dataconfig
* 8月28日修复snapshot数据上传异常的问题
* 8月29日凌晨2点，全区维护-版本更新

### DevOps

* 天梯适配蓝鲸CMDB API存在Python版本不兼容的问题，本周升级了天梯的django框架版本到支持Python3.6+的 2.2版本。测试部署上线。
* 天梯适配蓝鲸CMDB API，完成开发。
* K8s自建集群迁移到阿里云托管集群，本周有YK上线和Vega测试，相关项目如WallE，CMDB，Ucenter推迟到下周上线。
* 整理蓝鲸对服务器创建的需求，抽象可以复用的Terraform modules

## 下周计划

### Vega

* 雪球接入
* T-IDC-Art集群交付
* 持续压测
* world meta优化

### YK

* 修复snapshot 由于时区问题，snapshot定时任务晚一小时执行的问题
* 9月3日凌晨2点，全区维护，版本更新

### DevOps

* Terraform 推进
* 继续阿里K8s迁移到托管集群。
* GBF自己运维的3台打包机重做，迁移到CI/CD环境。
* Pillar功能开发，支持本地调试，支持数据和数据模板区分版本。
