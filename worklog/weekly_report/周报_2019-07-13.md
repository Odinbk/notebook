# DevOps项目组组周报

## Walle

### Vega CI/CD接入

* 审核服方案联调通过，李栋梁测试验收。
* 打包系统迁移到正式环境基本完成；下周一各模块代码仓库同步到master后，就可以用Walle4完成打包需求。
* 下周开始下线老打包系统，回收相关资源，空闲出来的打包机加入到新系统。

### 对接腾讯IDC

* 在腾讯提供的测试环境测试运维流程，在腾讯运维系统中调试游戏运维脚本。
* 天梯脚本中添加必要的日志，帮助定位问题。
* 天梯脚本调整，根据服务器配置动态生成JVM配置，移除Meta中的静态配置。

## Walle功能开发

* Walle任务列表页支持分页。
* 安装包下载页提供符号表下载。

## 内部项目容器化部署

* CMDB接入CICD，容器化部署。
* 容器中Log Rotate策略调整；WebCMS Https， 天梯，Cache Server故障排查。
* 调查CCSUIExporter在Mac docker容器中处理缓慢的问题。
  * CCSUIExporter在Mac docker容器中比ubuntu docker容器慢十多倍。可能的原因是文件系统差异，还在调查中。
  * 解决办法是将CCSUIExporter相关的任务分发到Linux Docker容器中执行。
* MTool容器化联调，解决相关技术问题。

## Ops

运维相关的工作今后由郑伟整理，在Ops的周报中汇报。

### 相关文档

* [Jenkins任务组织](https://git.youle.game/TC/TSD/DevOps/dune/wikis/jenkins_authorization)
* [CI/CD系统接入Step By Step文档](https://git.youle.game/TC/TSD/DevOps/dune/wikis/integrate_walle_step_by_step)
* [GameStatic/Patch](https://git.youle.game/TC/TSD/DevOps/dune/wikis/Release-Note-v0.1.2)
* [服务器端灰度/审核服方案](https://git.youle.game/TC/TSD/DevOps/dune/wikis/%E5%90%8E%E7%AB%AF%E6%96%87%E6%A1%A3/appstore_review_and_gray)
* [客户端灰度发布方案](https://git.youle.game/TC/TSD/DevOps/dune/wikis/%E5%89%8D%E7%AB%AF%E6%96%87%E6%A1%A3/gray-server)
* [客户端审核服方案](https://git.youle.game/TC/TSD/DevOps/dune/wikis/%E5%89%8D%E7%AB%AF%E6%96%87%E6%A1%A3/apple-review-version)
