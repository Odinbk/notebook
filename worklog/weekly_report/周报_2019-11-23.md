# DevOps项目组组周报

## 本周工作

|支持项目|工作内容|进度|备注|
|---|---|---|---|
|Vega|重新设计Assets CI流程：<br>1. CI执行环境从OpenStack Linux虚拟机迁移到MacMini，方便深圳办公室部署。<br>2. TP Licence提前在MacMini上激活，通过多开进程最大化利用TP Licence。<br>3. MTool版本更新通过从源代码安装达成，在python virtualenv中执行。| 80% | PR1测试结束后部署 |
|Vega| PR1测试支持 | 50% | |
|TKW| 尝试解决TKW客户端Git仓库拉取代码超时的问题。发现仓库中有10+大二进制文件没有添加到LFS中，导致仓库在最小量检出的情况下也要拉取2.9G大小的文件。<br>在把这些文件添加到LFS中之后，最小量检出的内容缩减到1.3G。后续又发现一些较大的.a文件，<br>但是这部分文件在加入LFS后，最小量检出内容又回到2.9G. 下周还需要花时间跟进调查一下这个问题。| 80%||
|TKW| 讨论方案支持在一台服务器上部署多个区服，每个区服由多个GameServer支撑。在测试环境模拟多种环境情况。| 100% | |
|DK| 服务端数值表json文件热更新，在WallE上指定要更新的文件和版本，通过Jenkins创建好资源更新包，通过天梯发包到线上。 | 50% | 逻辑部分的代码基本完成，WallE上需要添加UI支持，联调测试。 |
|YK| 同步了YK需要支持mini包的需求，简单整理了一下DevOps要支持的工作内容，下周和相关人员同步确认后开始推进。 | 10% ||
|DevOps| 由于上周Jenkins有多次异常退出，本周给Jenkins添加了自动拉起。 | 100% ||

## 下周计划

* 完成DK服务端数值热更新。
* 开始跟进YK迷你包的需求。
* 更近TKW Git仓库太大，检出时间长的问题。
* 跟进Vega Assets中部分资源不区分平台，部分资源区分平台CI需求。
* 跟进TKW客户端提出的关于开发环境，定时代码编译，静态检查，冒烟测试的需求。
