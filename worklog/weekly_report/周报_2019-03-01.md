# Walle项目周报

## 项目接入/安排

### DK

接口人：杨光

#### 项目安排

* 3月16，19，27有打包安排。
* 3月28日左右对外测试。
* 3月11日Walle停止新功能上线，iOS能打出包，完成新的热跟新流程。开服清库流程提前演练。

### Vega

接口人：杨光，郑莹莹

#### 打包系统接入

* 时间： 2019-02-10 ~ 2019-02-22
* 接入内容： 前后端CI接入，正常打包出包，天梯发布。 热更/审核服/灰度发布不在这期接入范围。
* 进展
  * 后端：
    * CI接入，构建生成jar包，上传RC。-- 完成
    * 确定ZooKeeper配置格式 -- 完成
    * 代码修改，从ZooKeeper中获取配置 -- 完成
    * 打包脚本 -- 完成, 可以正常出包，上传RC。
    * 天梯服务器状态控制脚本 -- 进行中

  * 前端
    * CI接入:
      * Asset接入CI -- 完成
      * 数值表接入CI -- 完成
      * VegaC接入CI -- 完成
      * VegaLua接入CI -- 完成
    * 打包脚本 -- 完成，可以正常出IOS/Android包，上传RC。

  * Walle
    * 测试环境 Walle / Jenkins / RC / 打包机 准备 -- 完成
    * 从CMDB同步游戏和部署位置信息 -- 完成
    * Jenkins做权限隔离 -- 完成
    * RC权限隔离 -- 完成
    * 天梯脚本 -- 进行中

  * 剩下的工作 (计划3月11号前完成)
    * 准备一个Vega测试打包系统的部署位置 -- 进行中
    * 天梯脚本 -- 进行中
    * 后端启服代码适配ZooKeeper配置系统 -- 进行中
    * 联调测试整个流程，CI -> 打包 -> 天梯上线。 -- 未开始，计划下周2开始。

### NCC

接口人：郑伟

* 4月15日 ~ 4月30日 小米测试。 打包用老Walle UI。
* 计划4月初接入。
* 项目组已经按讨论结果对代码仓库做修改。如：拆分数值表为独立的仓库。

### YK

接口人：N/A

* 计划5月初接入。

## Walle功能开发

### 苹果审核服/灰度发布

* 迁移Notice/Online/Version到独立的web server。
* 线上功能测试 -- 进行中

### DK前端项目支持

* 打包脚本适配灰度/苹果审核服更新。
* 签名相关的功能从eve迁移到项目组pipeline中。
* DK IOS打包 -- 完成，可以正常出包，游戏。

### Walle功能优化

* 适配Vega CI/CD过程中多个profiles文件的情况。
* Walle支持Git类型Module分支过滤，适应Vega VMS仓库CI触发需求。
* Jenkins任务组织方式调整, 已完成上线。[说明文档](https://git.youle.game/TC/TSD/DevOps/dune/wikis/jenkins_authorization)
* [CI/CD系统接入Step By Step文档](https://git.youle.game/TC/TSD/DevOps/dune/wikis/integrate_walle_step_by_step)
* GameStatic/Patch。[使用说明](https://git.youle.game/TC/TSD/DevOps/dune/wikis/Release-Note-v0.1.2)