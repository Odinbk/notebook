# 季度总结

## 自我评价

### 工作内容

* 季度伊始，DK项目刚上线不久，保证DK上线过程顺利是工作的重点。全程参与了DK的历次上线过程，保证了上线发布没有由于打包，发布，运维造成线上事故。
* 在此期间，总结上线过程中遇到的工具链相关的问题，结合QA部门的反馈，对WallE功能调整和开发，包括：在WallE上对历史发布版本管理；支持重新构建已发布的版本；在WallE中集成Jenkins打包任务页面；Meta，数值表热更新功能。解决QA在使用WallE时不方便的点，提升使用体验，简化热更新流程。
* 与此同时，DK提出了同时支持多核审核服应对马甲包发布的需求。在现有的框架基础上，重新设计审核服方案，力求通用，简单。修改上下游相关的代码，支持多审核服方案的上线。
* 季度中旬后，技术支撑部的主要精力投入在Vega项目深圳驻场。之前的Assets模块CI过程由于受TexturePacker Licence和Docker的制约，水平扩展困难，而且非常容易出错。重新设计Assets CI方案，放弃MTool容器化，改用使用python virtualenv解决MTool的版本问题。将打包机从Linux迁移到MacOS。结合项目组使用的ASTC资源处理方式，Assets CI时间从小时级别缩短到10分钟左右，不同平台的CI合并为一个。CI也改为由提交触发，过程更加顺畅。
* 搭建Sonar代码质量分析工具，接入了部分代码仓库。初衷是可以给代码提供可视化的质量评估分析工具，但实际上没有得到足够的重视，流程没有实际的运行起来。
* 季度下旬，开始推动YK客户端接入打包流程，实现迷你包的需求。重构打包代码，支持多进程并发打包过程，提高代码可读性，添加测试用例。

### 总结

* Q4的工作内容由于方向的调整和最初的计划有较大的偏离，但调整后的工作内容都按计划完成。对代码质量保持高要求，重构了包括WallE，Thomas，Pipeline，Tools等工具的代码。也暴露出CI/CD项目前期缺乏Code Review，部分代码缺少设计的问题。打包脚本Pipeline和Tools运维脚本抽象度不够，代码改动难以同步。

### 改进计划

* 2020 Q1季度对打包脚本Pipeline和Tools运维脚本重新设计，通用的部分通过统一的仓库管理，解决代码耦合度高，维护难度大的问题。

## 工作反馈

### 支持

* DevOps整体工作量比较饱和，每个人都投入在细节的工作内容之中，缺乏宏观的建设方向。团队如果可以扩充一些新鲜血液分担一部分细节工作，有经验的人投入时间到共性问题的解决和效率提升上，工作会收到更好的效果。
