# 技术支撑部工作计划

## 支撑部项目

目前使用的CMDB不能满足主流游戏架构的需求，调研替代方案（腾讯蓝鲸）。 标准化CMDB的数据和使用，配合项目组尝试动态扩容/缩容方案。
目标在三季度：

1. 天梯作业平台，WallE CI/CD平台，监控告警平台适配蓝鲸CMDB。
2. 支撑部内部熟悉蓝鲸CMDB的使用，配置逻辑。

运维服务标准化，工具自助化。

1. 推进IaC，落地Terraform。混合云资源的采购，退还通过编写代码的方式完成。
2. 服务器状态巡检，保障服务器以及依赖软件的一致性。
3. 完善运维脚本框架（Pillar），降低项目组对接成本。
4. 调研支持审计功能的数据库管理工具，项目组可以自助的查询数据，查看数据库监控。
5. 梳理告警规则，减少误报。制定告警响应流程，项目组可以自助处理部分告警。

办公环境迁移

1. 

容器化

1. 规划K8s集群环境，利用OpenStack中的资源，提高集群可用性，容灾能力，减少成本。
2. 容器化方案提供标准的日志收集方案。
3. 游戏后端服务容器化，以及相关工具开发。

GM 3.0，项目组可以根据自身需求，通过配置，低成本完成功能开发。
设计、开发，完成基本功能，包含账号登陆、权限控制、后台配置、页面展示、常规页面等。TKW / GBF 初步接入。

CDKey礼包功能调研，开发。

1. 评估多礼包唯一限制方案，海外存在不同礼包限制使用一次的需求。
2. 评估海外访问cdkey的稳定性，确定是否需要搭建海外系统。

鹰眼项目优化：区服、平台配置优化，aes加密相关信息从cmdb自动拉取等

Adjust项目: Adjust回调数据收集由http传输修改为本地文件收集，验证本地文件收集的稳定性和有效性

## 项目支持

### Vega

* 线上集群环境准备
* 线上环境压测、服务压垮、在线扩容、机器更换
* 确定监控数据，完善报警
* 接入腾讯雪球自动开服系统

### TKW

* 配合测试计划准备服务器集群环境，清档等操作。
* TKW客户端仓库膨胀问题由技术支撑部配合项目组客户端解决：
  1. 仓库瘦身。
  2. 调研阻止仓库膨胀的机制，流程。
* 移植底层热更新逻辑，过程对项目组透明无感知。

### YK

* 线上集群环境准备。
* 负载均衡器的健康检查接口补充。
* 线上运维手册完善。
* 确定防DDOS攻击方案。
* 官网抽卡活动；根据不同类型玩家，发放不同内容的邮件。
* 线上环境数据接入BI Report系统。

### GBF

* 监控告警系统接入，服务器压测容灾测试的前置工作。
* 客户端CI完成接入包括：Assets，C#，Lua等模块CI，CI流程，产出物服务于开发期需求。
* 客户端CD完成接入包括：热更新(VMS)，GameSwitch/Patch。
* 服务端CD完成 java模块热更新，数值表热更新，Meta热更新。
* 天梯流程完成：区服操作（设置开服时间，踢玩家下线等），审核版本发布。不包括灰度发布
* 目标在Q3使用CI/CD完成日常的打包，测试工作。
* 项目组自助的GM系统接入。
* BI打点，性能相关数据统计给策划做参考。

### DK

* 常规版本发布支持：每周一个版本，开服、合服、降配。
