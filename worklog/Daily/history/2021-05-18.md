# Worklog

## 项目工作

* Ops团队Sprint Plan会议。
  * 每个Sprint确定冲刺目标
  * 明确任务的目标，尽可能详细说明每个任务的背景，调研结果，能提供操作指导细节的话尽量提供。
  * 明确每周的工作量：60% 计划任务， 20% 项目支撑临时加入的工作，20% 自主学习。 临时加入的工作等量替换计划的工作。
  * 最大努力交付每周的Commitments，交付不了的话会有象征性的惩罚。
  * Retrospective
* 新同事王悦入职，介绍团队结构，工作内容，工作制度等。
* Q1绩效打分
* TcaplusDB分享问题回顾。

### TcaplusDB

* 提供key-value，和表存储的能力。
* 支持SQL标准和ProtocolBuffer两种协议访问。
* 数据库Schema的变更只能完成追加列，不支持删除列。
* 对JSon类型数据支持弱，可定制化开发。理由是腾讯调研发现80%的游戏公司在使用SQL类数据库，使用MongoDB的并不多。
* 内存 + 磁盘混合数据库，热数据会Cache在内存，通过LRU淘汰算法实现热冷数据交换。
* 高性能，在读写时延5ms内，可以达到10W/QPS读写并发，官方压测数据能到20W，但是建议以10W为使用基准。
* 提供图形化的数据库管理工具，可以完成合服(数据库表合并)，备份回档，扩容等操作。
* 通过master-slave的方式保证可用性，数据写master成功即认为成功。弱一致性，最终一致。处于对性能的追求，没有强一致性的选项。
* 扩容(sharing)是通过配置sharding因子，将数据rehash到多个sharing上：存量数据从slave库上分片到每一个sharding上，在通过binlog分片增量数据。分片进行过程中，master写slave的数据会被暂停。sharing切换动作由数据库进程控制，不会影响正常读写。
* TcaplusDB 适合OLTP场景。对于OLAP的需求，可以挂载下游数据库，TcaplusDB提供低延迟近实时的数据同步服务。
* 数据同步服务也可以用于TcaplusDB使用评估的场景：TcaplusDB下游挂载MySQL，当业务方不想使用TcaplusDB时，下游MySQL中有全量的业务数据，只要完成数据访问层的切换即可拜托对TcaplusDB的依赖。
* TcaplusDB在腾讯云上提供PAAS部署，腾讯可以提供在其他公有云部署的支持。
* 腾讯提供从其他异构类型数据平台迁移数据到TcaplusDB的支持。
* TcaplusDB不是单纯的数据库存储软件，是一个集成了存储，管理，游戏运维场景的服务。

## 事件

## 问题
