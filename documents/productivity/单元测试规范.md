# 单元测试规范

文档负责人：陈若愚

日期|版本|说明|作者|
---|---|---|---|
2018-10-15|1.0|添加|陈若愚|

<!-- TOC -->

- [规范](#规范)
  - [项目结构](#项目结构)
  - [语法](#语法)

<!-- /TOC -->

## 规范

### 项目结构

- 测试项目应该位于{项目根目录}/src/test, 测试类的路径应该和相应被测试的类的路径保持一致。
- 测试类命名应该符合格式: {被测试类名}Test。

### 语法

- 项目应该提供统一的单元测试基类，该基类应当从`PowerMockTestCase`派生。例如Vega项目: `AbstractVegaTest`。
- 具体的测试实现类都应该直接或者间接以项目统一的单元测试基类派生。
- exception异常处理：使用try/fail/catch方法，代码示例如下：

  ```java
  try {
      BagService.checkItem(role, "310001", 10);
      fail(msg);
  } catch (GSLogicException e) {
      assertEquals(e.getErrorDefine(), GSErrorDefineEnum.ROLE_NO_ENOUGH_ITEM);
  }
  ```

- 单个测试方法中assert数量限制在3个以内：maximumAsserts=3
